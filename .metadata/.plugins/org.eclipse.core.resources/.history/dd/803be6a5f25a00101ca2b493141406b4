import com.itextpdf.text.*;
import com.itextpdf.text.pdf.*;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
import java.io.IOException;

@WebServlet("/ExportReportPDFServlet")
public class ExportReportPDFServlet extends HttpServlet {

    protected void doGet(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {

        response.setContentType("application/pdf");
        response.setHeader("Content-Disposition", "attachment; filename=TechParts_Report.pdf");

        try {
            Document document = new Document();
            PdfWriter.getInstance(document, response.getOutputStream());
            document.open();

            // Add title
            Font font = FontFactory.getFont(FontFactory.HELVETICA_BOLD, 16);
            Paragraph title = new Paragraph("TechParts Reports", font);
            title.setAlignment(Element.ALIGN_CENTER);
            document.add(title);
            document.add(new Paragraph(" ")); // blank line

            // You can add more content here - fetch data and write tables, charts, etc.
            document.add(new Paragraph("This is a sample report PDF generated by the servlet."));
            document.add(new Paragraph("Add your data and charts here."));

            document.close();

        } catch (DocumentException e) {
            throw new IOException(e.getMessage());
        }
    }
}
